<form method="POST">
    <table>
        <tr>
            <th>Tłumaczenie</th>
            <th>infinitive</th>
            <th>past tense</th>
            <th>past participle</th>
            <th>status</th>
        </tr>

        <?php foreach ($results_sorted as $id => $result): ?>
        <tr>
            <td><?php echo $result['translation'] ?></td>
            <?php $random = isset($_POST['test'][$id]['random']) ? $_POST['test'][$id]['random'] : mt_rand(1,3); ?>
            <input  type="hidden" name="test[<?php echo $id ?>][id]" value="<?php echo $result['id'] ?>">
            <input  type="hidden" name="test[<?php echo $id ?>][random]" value="<?php echo $random ?>">

            <td><input type="text" name="test[<?php echo $id ?>][infinitive]" value="<?php echo $random == 1 ? (!empty($_POST['test'][$id]['infinitive']) ? $_POST['test'][$id]['infinitive'] : '') : $result['infinitive'] ?>"
                <?php echo $random == 1 ? '' : 'disabled' ?>></td>
            <td><input type="text" name="test[<?php echo $id ?>][past_tense]" value="<?php echo $random == 2 ? (!empty($_POST['test'][$id]['past_tense']) ? $_POST['test'][$id]['past_tense'] : '') : $result['past_tense'] ?>"
                <?php echo $random == 2 ? '' : 'disabled' ?>></td>
            <td><input type="text" name="test[<?php echo $id ?>][past_participle]" value="<?php echo $random == 3 ? (!empty($_POST['test'][$id]['past_participle']) ? $_POST['test'][$id]['past_participle'] : '') : $result['past_participle'] ?>"
                <?php echo $random == 3 ? '' : 'disabled' ?>></td>
            <td><?php echo $result['status'] ?></td>
        </tr>
        <?php endforeach; ?>


    </table>
    <button type="submit" name="action" value="check">Sprawdź</button>
</form>

